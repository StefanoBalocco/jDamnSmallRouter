"use strict";var jDamnSmallRouter;!function(t){t.Create=function(){return new i};class i{constructor(){this.t=new RegExp(/(:[\w]+)(?:\[(09|AZ)])\/(.+\/)?\1?/g),this.i=new RegExp(/(?<=^|\/):([\w]+)(?:\[(09|AZ)])?(?=\/|$)/g),this.o=[],this.h=void 0,this.u=void 0,window.addEventListener("hashchange",this.CheckHash)}RouteSpecialAdd(t,i){let n=!1;switch(t){case 403:this.h=i,n=!0;break;case 404:this.u=i,n=!0;break;default:throw new RangeError}return n}RouteAdd(t,i,n,e){let o=!1;if(!t.match(this.t))throw new SyntaxError("Duplicate path id");{let s=0;const r=t.split("/"),a=r.length;for(let t=0;t<a;t++)r[t].startsWith(":")||(s+=2^a-t-1);let h=new RegExp("^"+t.replace(this.i,(function(t,i,n){let e="(?<"+i+">[";switch(n){case"09":e+="\\d";break;case"AZ":e+="a-zA-Z";break;default:e+="\\w"}return e+="]+)",e})).replace(/\//g,"\\/")+"$");const u=t.replace(this.i,":$2");this.o.find((t=>u==t.path))||(this.o.push({path:u,match:h,weight:s,routeFunction:i,available:n,routeFunction403:e}),this.o.sort(((t,i)=>t.weight>i.weight?-1:i.weight>t.weight?1:0)),o=!0)}return o}RouteDel(t){let i=!1;if(!t.match(this.t))throw new SyntaxError("Duplicate path id");{const n=t.replace(this.i,":$2"),e=this.o.findIndex((t=>n==t.path));-1<e&&(this.o.splice(e,1),i=!0)}return i}async Trigger(t){return"#"+t!=window.location.hash&&(window.location.hash="#"+t),this.Route(t)}async Route(t){var i,n,e,o;let s,r="",a=null;for(const e of this.o)if(a=e.match.exec(t)){r=e.path;let o=!0;e.available&&(o=!1,"function"==typeof e.available&&(o="AsyncFunction"===e.available.constructor.name?await e.available(r,t,null!==(i=a.groups)&&void 0!==i?i:{}):e.available(r,t,null!==(n=a.groups)&&void 0!==n?n:{}))),o?s=e.routeFunction:e.routeFunction403?s=e.routeFunction403:this.h&&(s=this.h);break}s&&"function"==typeof s||this.u&&(s=this.u),s&&"function"==typeof s&&("AsyncFunction"===s.constructor.name?await s(r,t,null!==(e=null==a?void 0:a.groups)&&void 0!==e?e:{}):s(r,t,null!==(o=null==a?void 0:a.groups)&&void 0!==o?o:{}))}async CheckHash(){return this.Trigger(window.location.hash.startsWith("#")?window.location.hash.substr(1):"")}}}(jDamnSmallRouter||(jDamnSmallRouter={}));