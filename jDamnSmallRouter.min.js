"use strict";var jDamnSmallRouter;!function(t){t.Create=function(){return new e};class e{constructor(){this.t=new RegExp(/(:[\w]+)(?:\[(09|AZ)])\/(.+\/)?\1?/g),this.i=new RegExp(/(?<=^|\/):([\w]+)(?:\[(09|AZ)])?(?=\/|$)/g),this.o=[],this.h=void 0,this.u=void 0,window.addEventListener("hashchange",this.HashChanged)}RouteSpecialAdd(t,e){let i=!1;switch(t){case 403:this.h=e,i=!0;break;case 404:this.u=e,i=!0;break;default:throw new RangeError}return i}RouteAdd(t,e,i,n){let s=!1;if(!t.match(this.t))throw new SyntaxError("Duplicate path id");{let o=0;const a=t.split("/"),h=a.length;for(let t=0;t<h;t++)a[t].startsWith(":")||(o+=2^h-t-1);let r=new RegExp("^"+t.replace(this.i,(function(t,e,i){let n="(?<"+e+">[";switch(i){case"09":n+="\\d";break;case"AZ":n+="a-zA-Z"}return n+="]+)",n})).replace(/\//g,"\\/")+"$");const c=t.replace(this.i,":$2");this.o.find((t=>c==t.path))||(this.o.push({path:c,match:r,weight:o,routeFunction:e,available:i,routeFunction403:n}),s=!0)}return s}RouteDel(t){let e=!1;if(!t.match(this.t))throw new SyntaxError("Duplicate path id");{const i=t.replace(this.i,":$2"),n=this.o.findIndex((t=>i==t.path));-1<n&&(this.o.splice(n,1),e=!0)}return e}async HashChanged(){let t,e=window.location.hash.startsWith("#")?window.location.hash.substr(1):"",i="";for(const n of this.o)if(n.match.exec(e)){i=n.path;let s=!0;n.available&&(s=!1,"function"==typeof n.available&&(s="AsyncFunction"===n.available.constructor.name?await n.available(n.path,e):n.available(n.path,e))),s?t=n.routeFunction:n.routeFunction403?t=n.routeFunction403:this.h&&(t=this.h);break}t&&"function"==typeof t||this.u&&(t=this.u),t&&"function"==typeof t&&("AsyncFunction"===t.constructor.name?await t(i,e):t(i,e))}}}(jDamnSmallRouter||(jDamnSmallRouter={}));